% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nfsa_move_convert.R
\name{nfsa_move_convert}
\alias{nfsa_move_convert}
\title{Convert SDMX data to Parquet format for NASEC data tables}
\usage{
nfsa_move_convert(
  country,
  table = c("T0800", "T0801", "T0801SA"),
  period = NULL,
  input_sel = NULL,
  output_sel = NULL,
  process_all = FALSE
)
}
\arguments{
\item{country}{A character string specifying the country code.}

\item{table}{A character string specifying the table type. Must be one of "T0800", "T0801", or "T0801SA".}

\item{period}{A character string specifying the time period:
\itemize{
\item For T0800: year in format "2024_0000"
\item For T0801/T0801SA: year and quarter in format "2025_0002" (for 2025Q2)
}}

\item{input_sel}{A character string specifying the input directory where the SDMX files are located.
If NULL, uses default path based on table type. Defaults to NULL.}

\item{output_sel}{A character string specifying the output directory where the Parquet files should be saved.
If NULL, uses default path based on table type. Defaults to NULL.}

\item{process_all}{Logical. If TRUE, processes all matching files (ASA/QSA workflow). If FALSE, only
processes new files compared to existing output. Defaults to FALSE.}
}
\value{
This function primarily operates for side effects (writing Parquet files). It prints messages
to the console indicating whether a new file was processed, if no file was found, or if no new file exists.
}
\description{
This function reads SDMX files, converts them to Parquet format, and saves them to a specified directory.
It handles T0800 (annual), T0801 (quarterly NSA), and T0801SA (quarterly seasonally adjusted) tables.
}
\details{
The function searches for SDMX files matching the pattern based on the table type.
It identifies the file(s) with the latest version number. If process_all is FALSE, it compares with
existing files in the output directory and only processes new files. The SDMX data is read, cleaned,
timestamped, and converted to Parquet format.
}
\examples{
\dontrun{
# Convert T0800 annual data
nfsa_move_convert(country = "BE", table = "T0800", period = "2024_0000")

# Convert T0801 quarterly data
nfsa_move_convert(country = "BE", table = "T0801", period = "2025_0002")

# Convert T0801SA with custom paths
nfsa_move_convert(
  country = "IT",
  table = "T0801SA",
  period = "2025_0002",
  input_sel = "path/to/input",
  output_sel = "path/to/output"
)

# Process all files (ASA/QSA workflow)
nfsa_move_convert(country = "BE", table = "T0800", process_all = TRUE)
}

}
