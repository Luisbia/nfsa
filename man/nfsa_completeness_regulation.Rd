% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nfsa_completeness_regulation.R
\name{nfsa_completeness_regulation}
\alias{nfsa_completeness_regulation}
\title{Check NFSA Completeness Against Regulation}
\usage{
nfsa_completeness_regulation(
  country,
  table = "T0801",
  output_sel = here::here("output", "completeness")
)
}
\arguments{
\item{country}{A character vector specifying the countries for which to check data completeness.}

\item{table}{A character string indicating the data table to check (e.g., "T0801", "T0801SA", "T0800").  Defaults to "T0801".}

\item{output_sel}{A file path specifying the directory where the output Excel file should be saved. Defaults to "output/completeness" inside the project.}
}
\value{
Invisible. The function's primary side effect is to produce an Excel file when data is missing.
It also prints messages to the console indicating whether the data requirements are fulfilled or
where the output file is saved.
}
\description{
This function checks the completeness of NFSA (National Financial Statistics Authority)
data against predefined regulatory requirements. It identifies missing data points
for a specified country and table, and generates an Excel file detailing these
gaps if any exist.
}
\details{
The function reads data from parquet files located in specific directories ("data/q/new/nsa" for quarterly data and "data/a/new" for annual)
and compares it to requirements defined in Excel files located in the "assets" directory ("completeness_T0801.xlsx",
"completeness_T0801SA.xlsx", or "completeness_T0800.xlsx" depending on the \code{table} argument).
It performs joins, filters, and transformations on the data to identify missing observations based on
the regulatory requirements.

The function uses \code{nfsa_separate_id()} (not defined in this stub) for a critical step of data processing. Ensure that this function is correctly defined or sourced in your environment.

The completeness requirements differ based on whether the country is considered a "small" country (BG, EE, HR, CY, LT, LV, LU, MT, SI, SK)
or a "big" country (AT, BE, CZ, DE, DK, EL, ES, FI, FR, HU, IE, IT, NL, PL, PT, RO, SE). The requirements for "ALL" countries in the Excel
files are applied to small countries.  This distinction only applies to the "T0801" and "T0801SA" tables.
}
\examples{
\dontrun{
# Check completeness for Germany for table T0801 and save the output in "my_output" directory
nfsa_completeness_regulation(country = "DE", table = "T0801", output_sel = "my_output")

# Check completeness for multiple countries for table T0800
nfsa_completeness_regulation(country = c("DE", "FR", "IT"), table = "T0800")
}
}
