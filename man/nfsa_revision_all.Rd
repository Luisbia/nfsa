% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nfsa_revision_all.R
\name{nfsa_revision_all}
\alias{nfsa_revision_all}
\title{Identify and Extract Revisions Across All Versions of NFSA Data}
\usage{
nfsa_revision_all(
  country,
  table = c("T0800", "T0801", "T0801SA"),
  input_sel = "M:/nas/Rprod/data/",
  output_sel = here::here("output", "revisions"),
  ...
)
}
\arguments{
\item{country}{A character string specifying the country code to filter the data. Only one country!}

\item{table}{A character string specifying which table to analyze. Must be one of: "T0800", "T0801", or "T0801SA".}

\item{input_sel}{A character string specifying the path to the directory containing the Parquet files.
Defaults to \code{"M:/nas/Rprod/data/"}.}

\item{output_sel}{Path to the directory where the output Excel file containing the revisions will be saved.
Defaults to \code{here("output", "revisions")}.}

\item{...}{Additional filters to pass to nfsa_get_data_all(). Filters should be provided as character strings
(e.g., "ref_sector == 'S13'", "sto == 'B9'"). Multiple filters can be provided as separate arguments.}
}
\value{
An Excel workbook containing the identified revisions,
with columns for the reference area, ID, time period, reference sector, STO, accounting entry,
and the changes between different versions of the data.
}
\description{
This function identifies and extracts revisions in NFSA data (T0800, T0801, or T0801SA) for a specified country,
comparing all different versions of the data stored as Parquet files. It joins the data with a lookup table,
calculates the changes between versions, and prepares the data for export to Excel.
}
\examples{
\dontrun{
# Example usage: Identify and extract revisions for country code "IT"
nfsa_revision_all(country = "IT", table = "T0801")

# Example with filters: Only revisions for sector S13
nfsa_revision_all(country = "IT", table = "T0800", "ref_sector == 'S13'")

# Example with multiple filters
nfsa_revision_all(country = "IT", table = "T0801SA", "ref_sector == 'S13'", "sto == 'B9'")

# Example with custom directory
nfsa_revision_all(country = "BE", table = "T0801", input_sel = "path/to/my/data")
}

}
